console.log("术语库开始加载...");

termLibraries = {
    '1': {
        textTerms: [
            // 强弱术语
            { term: "fortissimo(ff)", definition: "非常响亮" },
            { term: "forte(f)", definition: "响亮" },
            { term: "mezzo forte(mf)", definition: "中等响亮" },
            { term: "pianissimo(pp)", definition: "非常轻" },
            { term: "piano(p)", definition: "轻" },
            { term: "mezzo piano(mp)", definition: "中等轻" },
            { term: "crescendo(cresc.)", definition: "逐渐变响" },
            { term: "decrescendo(decresc.)", definition: "逐渐变轻" },
            { term: "diminuendo(dim.)", definition: "逐渐变轻" },
            // 速度术语
            { term: "allegro", definition: "快板" },
            { term: "allegretto", definition: "稍快板" },
            { term: "moderato", definition: "中速" },
            { term: "andante", definition: "行板（中速偏慢）" },
            { term: "adagio", definition: "慢板" },
            { term: "accelerando(accel.)", definition: "渐快" },
            { term: "rallentando(rall.)", definition: "渐慢" },
            { term: "ritardando(ritard. or rit.)", definition: "渐慢" },
            { term: "a tempo", definition: "恢复原速" },
            // 其他术语
            { term: "cantabile", definition: "如歌的风格" },
            { term: "da capo(D.C.)", definition: "从头反复" },
            { term: "dolce", definition: "甜美地" },
            { term: "fine", definition: "终止" },
            { term: "al fine", definition: "至终止处" },
            { term: "legato", definition: "连贯地" },
            { term: "staccato(stacc.)", definition: "断奏" },
        ],
        imageTerms: [
            { term: "crescendo", definition: "逐渐变响", image: "images/crescendo.png" },
            { term: "decrescendo", definition: "逐渐变轻", image: "images/decrescendo.png" },
            { term: "accent", definition: "重音（强调演奏）", image: "images/accent.png" },
            { term: "slur", definition: "连音线（平滑演奏）", image: "images/slur.png" },
            { term: "tie", definition: "延音线（合并音符时值）", image: "images/tie.png" },
            { term: "staccato", definition: "断奏", image: "images/staccato.png" },
            { term: "pause", definition: "延长记号（在音符或休止符上停顿）", image: "images/pause.png" },
            { term: "repeat", definition: "重复符号（重复两个符号之间的乐段）", image: "images/repeat.png" },
            { term: "G clef", definition: "高音谱号（G谱号）", image: "images/G clef.png" },
            { term: "C clef", definition: "中音谱号（C谱号）", image: "images/C clef.png" },
            { term: "tenor clef", definition: "次中音谱号", image: "images/tenor clef.png" },
            { term: "F clef", definition: "低音谱号（F谱号）", image: "images/F clef.png" },
        ],
    },
    '2': {
        textTerms: [
            { term: "fp (fortepiano)", definition: "先响亮，然后立即变轻" },
            { term: "presto", definition: "急板（比allegro更快）" },
            { term: "vivace, vivo", definition: "活泼的，快速的" },
            { term: "lento", definition: "慢板（比adagio更慢）" },
            { term: "largo", definition: "广板（与lento相同或更慢）" },
            { term: "grave", definition: "庄板（非常慢，庄严的）" },
            { term: "più mosso", definition: "更快，更有动感" },
            { term: "meno mosso", definition: "较慢，减少动感" },
            { term: "ritenuto (riten., rit.)", definition: "立即变慢，滞留" },
            { term: "con moto", definition: "有动感地" },
            { term: "allargando", definition: "渐宽广（渐慢并增强）" },
            { term: "dal segno (D.S.)", definition: "从记号𝄋处反复" },
            { term: "espressivo (espress.)", definition: "富有表现力地" },
            { term: "grazioso", definition: "优雅地" },
            { term: "alla marcia", definition: "进行曲风格" },
            { term: "molto", definition: "非常，很多" },
            { term: "non troppo", definition: "不过分，不太" },
            { term: "poco, poco a poco", definition: "稍微；逐渐地" },
            { term: "col, con", definition: "带有" },
            { term: "e, ed", definition: "和，与" },
            { term: "ma", definition: "但是" },
            { term: "meno", definition: "较少" },
            { term: "più", definition: "更多" },
            { term: "senza", definition: "无，不带" },
        ],
        imageTerms: [
            { term: "strong accent", definition: "重音（marcato；强烈强调）", image: "images/strong accent.png" },
            { term: "slightly separated", definition: "略分离（演奏时稍作分隔）", image: "images/slightly separated.png" },
            { term: "staccatissimo", definition: "极短断奏（非常清晰分离的断奏）", image: "images/staccatissimo.png" },
            { term: "tenuto", definition: "保持音符（稍加重）", image: "images/tenuto.png" },
            { term: "octave higher", definition: "高八度演奏", image: "images/octave higher.png" },
            { term: "multi-measure rest", definition: "多小节休止（按标示小节数休止）", image: "images/multi-measure rest.png" },
            { term: "first&second time bar", definition: "第一、第二结束小节（在重复段落中使用）", image: "images/first&second time bar.png" },
        ],
    },
    '3': {
        textTerms: [
            { term: "sforzando, sforzato (sf, sfz)", definition: "突强音，重音强调" },
            { term: "andantino", definition: "比行板（andante）稍快（或稍慢，视上下文）" },
            { term: "prestissimo", definition: "极快板" },
            { term: "agitato", definition: "激动地，急促不安" },
            { term: "animato", definition: "生动地，活泼地" },
            { term: "con forza", definition: "有力量地" },
            { term: "energico", definition: "充满活力地" },
            { term: "giocoso", definition: "诙谐地，欢快地" },
            { term: "leggiero", definition: "轻巧地" },
            { term: "maestoso", definition: "庄严地，雄伟地" },
            { term: "marcato (marc.)", definition: "强调，着重" },
            { term: "pesante", definition: "沉重地" },
            { term: "risoluto", definition: "坚定有力地" },
            { term: "scherzando", definition: "幽默风趣地，嬉戏地" },
            { term: "semplice", definition: "简单朴素地" },
            { term: "sostenuto (sost.)", definition: "持续地" },
            { term: "tranquillo", definition: "平静地" },
            { term: "triste, tristamente", definition: "悲伤地，忧郁地" },
            { term: "ben", definition: "良好地" },
            { term: "prima, primo", definition: "第一，首要" },
            { term: "sempre", definition: "始终，一直" },
            { term: "simile", definition: "以同样方式继续演奏" },
            { term: "subito (sub.)", definition: "突然地" },
        ],
        imageTerms: [
        ],
    },
    '4': {
        textTerms: [
            { term: "弦乐器家族", definition: "使用弓拉奏或拨奏的乐器" },
            { term: "木管乐器家族", definition: "通过吹奏哨片或嘴部开孔发声的乐器" },
            { term: "铜管乐器家族", definition: "通过嘴唇振动吹奏发声的乐器" },
            { term: "打击乐器家族", definition: "通过敲击发声的乐器" },
            { term: "小提琴的谱号与最低音", definition: "使用高音谱号，最低音为G" },
            { term: "中提琴的谱号与最低音", definition: "主要使用中音谱号，最低音为C" },
            { term: "大提琴的谱号与最低音", definition: "主要使用低音谱号，最低音为C（比中提琴低八度）" },
            { term: "低音提琴的谱号与最低音", definition: "主要使用低音谱号，最低音为C" },
            { term: "弦乐器的音高排序（从高到低）", definition: "小提琴 → 中提琴 → 大提琴 → 低音提琴" },
    
            { term: "长笛的谱号", definition: "使用高音谱号" },
            { term: "双簧管的谱号", definition: "使用高音谱号，音域与长笛相近但略低" },
            { term: "单簧管的谱号", definition: "使用高音谱号，音域略低于长笛和双簧管" },
            { term: "巴松的谱号", definition: "主要使用低音谱号" },
            { term: "木管乐器的音高排序（从高到低）", definition: "长笛 → 双簧管 → 单簧管 → 巴松" },
    
            { term: "小号的谱号", definition: "使用高音谱号" },
            { term: "圆号的谱号", definition: "使用高音谱号，有时称为‘法国号’" },
            { term: "长号的谱号", definition: "主要使用低音谱号" },
            { term: "大号的谱号", definition: "使用低音谱号" },
            { term: "铜管乐器的音高排序（从高到低）", definition: "小号 → 圆号 → 长号 → 大号" },
    
            { term: "有固定音高的打击乐器", definition: "能发出特定音高的乐器" },
            { term: "无固定音高的打击乐器", definition: "不能发出特定音高的乐器" },
            { term: "定音鼓的音高", definition: "具有固定音高，有时称为‘铜鼓’" },
            { term: "小军鼓的音高", definition: "无固定音高，有时称为‘军鼓’" },
            { term: "大鼓的音高", definition: "无固定音高" },
            { term: "铙钹的音高", definition: "无固定音高，可以成对敲击或用鼓槌敲击" },
            { term: "打击乐器的音高排序（从高到低）", definition: "定音鼓 → 小军鼓 → 大鼓 → 铙钹" },
    
            { term: "pizzicato (pizz.)", definition: "拨奏（用手指拨弦）" },
            { term: "arco", definition: "用弓拉奏（仅在之前被指示拨奏后使用）" },
            { term: "slur", definition: "连奏（在连线范围内用一个弓弓奏）" },
            { term: "sul G", definition: "在G弦上演奏（小提琴四根弦中最低的弦）" },
            { term: "sul D", definition: "在D弦上演奏（小提琴上比G弦高的弦）" },
            { term: "con sordini (con sord.) / avec sourdines", definition: "使用弱音器" },
            { term: "senza sordini (senza sord.) / sans sourdines", definition: "不使用弱音器" },

            { term: "comodo/tempo comodo", definition: "舒适的速度" },
            { term: "con brio", definition: "充满活力，生气勃勃" },
            { term: "larghetto", definition: "稍慢" },
            { term: "rubato/tempo rubato", definition: "自由速度（在节奏上有灵活性）" },
            { term: "stringendo", definition: "渐快" },
            { term: "affettuoso", definition: "充满感情地" },
            { term: "amabile", definition: "温和可爱地" },
            { term: "appassionato", definition: "富有激情地" },
            { term: "deciso", definition: "坚定有力地" },
            { term: "mesto", definition: "忧伤地" },
            { term: "misterioso", definition: "神秘地" },
            { term: "ritmico", definition: "富有节奏感地" },
            { term: "alla breve", definition: "以二分音符为一拍" },
            { term: "assai", definition: "非常（如 allegro assai – 非常快）" },
            { term: "come prima", definition: "与前面相同" },
            { term: "animé (French) / animato (Italian)", definition: "生动活泼地" },
            { term: "douce (French) / dolce (Italian)", definition: "甜美地" },
            { term: "lent (French) / adagio, lento (Italian)", definition: "缓慢地" },
            { term: "modéré (French) / moderato (Italian)", definition: "中速地" },
            { term: "retenu (French) / ritenuto (Italian)", definition: "渐慢，放慢速度" },
            { term: "vite (French) / allegro (Italian)", definition: "快速地" },
        ],
        imageTerms: [
            { term: "down-bow", definition: "下弓（弓法方向）", image: "images/down-bow.png" },
            { term: "up-bow", definition: "上弓（弓法方向）", image: "images/up-bow.png" },
            { term: "trill", definition: "颤音", image: "images/trill.png" },
            { term: "upper mordent", definition: "上颤音", image: "images/upper mordent.png" },
            { term: "lower mordent", definition: "下颤音", image: "images/lower mordent.png" },
            { term: "turn1", definition: "回音（装饰音）", image: "images/turn1.png" },
            { term: "turn2", definition: "回音（装饰音）", image: "images/turn2.png" },
            { term: "acciaccatura", definition: "倚音（短倚音）", image: "images/acciaccatura.png" },
            { term: "appoggiatura", definition: "倚音（长倚音）", image: "images/appoggiatura.png" },
            { term: "tremolo", definition: "震音（快速重复的音符）}", image: "images/tremolo.png" },
            { term: "repeated bar", definition: "表示重复演奏的记号", image: "images/repeated bar.png" },
        ],
    },
    '5': {
        textTerms: [
            { term: "小提琴属于哪个乐器家族？", definition: "弦乐器" },
            { term: "中提琴属于哪个乐器家族？", definition: "弦乐器" },
            { term: "大提琴属于哪个乐器家族？", definition: "弦乐器" },
            { term: "低音提琴属于哪个乐器家族？", definition: "弦乐器" },
            { term: "竖琴属于哪个乐器家族？", definition: "弦乐器" },
            
            { term: "短笛属于哪个乐器家族？", definition: "木管乐器" },
            { term: "长笛属于哪个乐器家族？", definition: "木管乐器" },
            { term: "双簧管属于哪个乐器家族？", definition: "木管乐器" },
            { term: "英国管属于哪个乐器家族？", definition: "木管乐器" },
            { term: "单簧管属于哪个乐器家族？", definition: "木管乐器" },
            { term: "巴松管属于哪个乐器家族？", definition: "木管乐器" },

            { term: "小号属于哪个乐器家族？", definition: "铜管乐器" },
            { term: "圆号属于哪个乐器家族？", definition: "铜管乐器" },
            { term: "长号属于哪个乐器家族？", definition: "铜管乐器" },
            { term: "大号属于哪个乐器家族？", definition: "铜管乐器" },

            { term: "定音鼓属于哪个乐器家族？", definition: "打击乐器" },
            { term: "管钟属于哪个乐器家族？", definition: "打击乐器" },
            { term: "木琴属于哪个乐器家族？", definition: "打击乐器" },
            { term: "马林巴属于哪个乐器家族？", definition: "打击乐器" },
            { term: "铁琴属于哪个乐器家族？", definition: "打击乐器" },
            { term: "颤音琴属于哪个乐器家族？", definition: "打击乐器" },
            { term: "风琴属于哪个乐器家族？", definition: "打击乐器" },
            { term: "侧鼓属于哪个乐器家族？", definition: "打击乐器" },
            { term: "大鼓属于哪个乐器家族？", definition: "打击乐器" },
            { term: "铙钹属于哪个乐器家族？", definition: "打击乐器" },
            { term: "铃鼓属于哪个乐器家族？", definition: "打击乐器" },
            { term: "响板属于哪个乐器家族？", definition: "打击乐器" },
            { term: "塔姆塔姆属于哪个乐器家族？", definition: "打击乐器" },
            { term: "三角铁属于哪个乐器家族？", definition: "打击乐器" },
            { term: "定音鼓属于哪个乐器家族？", definition: "打击乐器" },

            { term: "竖琴的弦是如何演奏的？", definition: "拨动" },
            { term: "改变竖琴弦音高的工具是什么？", definition: "踏板或杠杆" },
            { term: "短笛使用哪种谱号？", definition: "高音谱号" },
            { term: "短笛的音高与写谱相比如何？", definition: "高一个八度" },
            { term: "英国管的另一种名称是什么？", definition: "英伦管" },
            { term: "英国管使用哪种谱号？", definition: "高音谱号" },
            { term: "英国管是转调乐器吗？", definition: "是的" },
            { term: "管钟是如何演奏的？", definition: "用一到两个小槌敲击" },
            { term: "管钟的音高是确定的还是不确定的？", definition: "确定音高" },
            { term: "木琴的音条是如何排列的？", definition: "像钢琴键盘一样横向排列" },
            { term: "演奏木琴使用什么类型的击棒？", definition: "硬击棒" },
            { term: "木琴的音高是确定的还是不确定的？", definition: "确定音高" },
            { term: "哪种乐器与木琴相似，但声音更加柔和？", definition: "马林巴" },
            { term: "演奏马林巴使用什么类型的击棒？", definition: "软击棒" },
            { term: "马林巴的音高是确定的还是不确定的？", definition: "确定音高" },
            { term: "铁琴的音条是如何排列的？", definition: "像钢琴一样横向排列" },
            { term: "用什么演奏铁琴？", definition: "击棒" },
            { term: "铁琴的音高是确定的还是不确定的？", definition: "确定音高" },
            { term: "哪种乐器与铁琴相似，但声音更柔和？", definition: "颤音琴" },
            { term: "颤音琴内包含什么使声音带有振动效果？", definition: "一个电动机" },
            { term: "颤音琴的音高是确定的还是不确定的？", definition: "确定音高" },
            { term: "哪种乐器看起来像钢琴，但里面包含金属音条？", definition: "风琴" },
            { term: "风琴产生什么类型的声音？", definition: "钟声般的音色" },
            { term: "风琴的音高是确定的还是不确定的？", definition: "确定音高" },
            { term: "铃鼓是如何演奏的？", definition: "用手打击或摇晃" },
            { term: "铃鼓的音高是确定的还是不确定的？", definition: "不确定音高" },
            { term: "响板是什么？", definition: "用手指敲击的两块小木片" },
            { term: "响板起源于哪里？", definition: "西班牙" },
            { term: "响板的音高是确定的还是不确定的？", definition: "不确定音高" },
            { term: "塔姆塔姆是什么？", definition: "用槌击打的大钟" },
            { term: "塔姆塔姆的音高是确定的还是不确定的？", definition: "不确定音高" },
            { term: "三角铁是如何演奏的？", definition: "用金属击棒敲击" },
            { term: "三角铁的音高是确定的还是不确定的？", definition: "不确定音高" },
            { term: "哪种木管乐器使用单簧片？", definition: "单簧管" },
            { term: "哪种木管乐器使用双簧片？", definition: "双簧管、英国管、巴松管" },
            { term: "长笛的较小亲戚是哪种乐器？", definition: "短笛" },
            { term: "短笛与哪种乐器相关？", definition: "长笛" },
            { term: "什么是转调乐器？", definition: "一种演奏时音高与乐谱上写的音符不同的乐器。" },
            { term: "转调乐器乐谱上音符的音高叫什么？", definition: "写谱音高" },
            { term: "转调乐器演奏时发出的音高叫什么？", definition: "发声音高或会演奏音高" },
            { term: "小号和单簧管通常调在哪个调性？", definition: "Bb" },
            { term: "小号和单簧管的音高与写谱相比如何？", definition: "它们的音高比写谱低一个大二度。" },
            { term: "还提到了一种单簧管，它的调性是什么？", definition: "A调单簧管" },
            { term: "A调单簧管的音高与写谱相比如何？", definition: "它的音高比写谱低一个小三度。" },
            { term: "圆号和英国管调在哪个调性？", definition: "F调" },
            { term: "圆号和英国管的音高与写谱相比如何？", definition: "它们的音高比写谱低一个纯五度。" },
            { term: "短笛的音高与写谱相比如何？", definition: "它的音高比写谱高一个八度。" },
            { term: "低音提琴的音高与写谱相比如何？", definition: "它的音高比写谱低一个八度。" },
            { term: "合唱音乐中的四个主要声部是什么？", definition: "女高音、女低音、男高音、男低音（SATB）" },
            { term: "合唱音乐中声部的顺序是从最高到最低的范围是什么？", definition: "女高音、女低音、男高音、男低音" },
            { term: "在独唱音乐中，常用的附加声部有哪些？", definition: "女中音和男中音" },
            { term: "所有六种声部的音域顺序从高到低是什么？", definition: "女高音、女中音、女低音、男高音、男中音、男低音" },
            
            { term: "'a niente'在动态学中的意思是什么？", definition: "渐弱至无" },
            { term: "'morendo'在动态学中的意思是什么？", definition: "逐渐消失" },
            { term: "'perdendosi'在动态学中的意思是什么？", definition: "逐渐消失" },
            { term: "'rinforzando' (rinf., rf., rf.)在动态学中的意思是什么？", definition: "加强" },
            { term: "'smorzando' (smorz.)在动态学中的意思是什么？", definition: "逐渐消失" },
            { term: "'sotto voce'在动态学中的意思是什么？", definition: "低声（字面意思是‘声音下’）" },
            { term: "'largamente'在动态学中的意思是什么？", definition: "宽广地" },
            { term: "'cantando'在动态学中的意思是什么？", definition: "唱" },
            { term: "'con dolore'在动态学中的意思是什么？", definition: "带有悲伤" },
            { term: "'con spirito'在动态学中的意思是什么？", definition: "带有精神" },
            { term: "'doloroso'在动态学中的意思是什么？", definition: "悲伤的" },
            { term: "'sonoro'在动态学中的意思是什么？", definition: "共鸣的，有丰富音色（像‘响亮’这个词）" },
            { term: "'ad libitum' (ad lib.)在动态学中的意思是什么？", definition: "任选" },
            { term: "'attacca'在动态学中的意思是什么？", definition: "继续进行（到音乐的下一个部分）" },
            { term: "'quasi'在动态学中的意思是什么？", definition: "仿佛，好像" },
            { term: "'langsam'在德语音乐术语中的意思是什么？", definition: "慢" },
            { term: "'langsam'的意大利语对应词是什么？", definition: "Adagio/lento" },
            { term: "'langsam'的法语对应词是什么？", definition: "Lent" },
            { term: "'lebhaft'在德语音乐术语中的意思是什么？", definition: "活泼的" },
            { term: "'lebhaft'的意大利语对应词是什么？", definition: "Vivace" },
            { term: "'mäßig'在德语音乐术语中的意思是什么？", definition: "中等速度" },
            { term: "'mäßig'的意大利语对应词是什么？", definition: "Moderato" },
            { term: "'mäßig'的法语对应词是什么？", definition: "Modéré" },
            { term: "'ruhig'在德语音乐术语中的意思是什么？", definition: "安静的" },
            { term: "'ruhig'的意大利语对应词是什么？", definition: "Tranquillo" },
            { term: "'schnell'在德语音乐术语中的意思是什么？", definition: "快速的" },
            { term: "'schnell'的意大利语对应词是什么？", definition: "Allegro/presto" },
            { term: "'schnell'的法语对应词是什么？", definition: "Vite" },
            { term: "'traurig'在德语音乐术语中的意思是什么？", definition: "悲伤的" },
            { term: "'traurig'的意大利语对应词是什么？", definition: "Mesto" },
            { term: "'Ped.'在钢琴音乐中表示什么？", definition: "踩下右踏板（延音踏板）" },
            { term: "'*'或垂直线在钢琴音乐中表示什么？", definition: "松开右踏板" },
            { term: "'con pedale'在钢琴音乐中表示什么？", definition: "踩下右踏板" },
            { term: "'senza pedale'在钢琴音乐中表示什么？", definition: "不踩右踏板" },
            { term: "'una corda'在钢琴音乐中表示什么？", definition: "踩下左踏板" },
            { term: "'tre corde'在钢琴音乐中表示什么？", definition: "松开左踏板" },
            { term: "'mano sinistra' (m.s.)在钢琴音乐中表示什么？", definition: "用左手演奏" },
            { term: "'mano destra' (m.d.)在钢琴音乐中表示什么？", definition: "用右手演奏" },
            { term: "'morendo'在钢琴音乐中表示什么？", definition: "逐渐消失" }
        ],
        imageTerms: [
        ],
    },
};

console.log("中文术语库加载完成，可用等级:", Object.keys(termLibraries));